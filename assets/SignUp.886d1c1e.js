import{f,a as g,r as e,F as w,C as h,L as y,g as b}from"./index.e8cc2e1b.js";import{c as S,a as n,F as v,b as C}from"./formik.esm.3eaebbff.js";import{E as T,c as t}from"./ErrorModal.ee440c53.js";import{M as F,c,a as I,b as M}from"./index.esm.b682232f.js";function D(){const u=f(),d=g(),[m,p]=e.exports.useState(null),[i,x]=e.exports.useState(!1),E=S().shape({firstName:n().required("This field is Required!"),lastName:n().required("This field is Required!"),email:n().email("Invalid email").required("This field is Required!"),password:n().min(8,"Too Short!").required("This field is Required!")}),N=async a=>{try{const s=await fetch("https://aryan-api.771727.xyz/blog-mania/user/signup",{method:"POST",body:JSON.stringify({email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName}),headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error("Could not Sign Up!");const l=await s.json();localStorage.setItem("userData",JSON.stringify(l));const o=new Date(new Date().getTime()+1e3*60*60);localStorage.setItem("timer",JSON.stringify({timer:o.toISOString()})),u(b.login(l)),d("../",{replace:!0})}catch(s){console.log(s),p(s.message)}};return e.exports.createElement(w,null,!!m&&e.exports.createElement(T,{error:m,onClear:()=>p(!1)}),e.exports.createElement("div",{className:t.authContainer},e.exports.createElement(h,{className:t.card},e.exports.createElement("div",{className:t.authHeader},e.exports.createElement("div",{className:t.iconWrapper},e.exports.createElement(F,{size:48})),e.exports.createElement("h1",null,"Create Account"),e.exports.createElement("p",null,"Join BlogMania and start your blogging journey")),e.exports.createElement(v,{initialValues:{firstName:"",lastName:"",email:"",password:""},validationSchema:E,onSubmit:a=>{N(a)}},({errors:a,touched:s,handleChange:l,handleBlur:o,values:r})=>e.exports.createElement(C,{className:t.form},e.exports.createElement("div",{className:t.inputRow},e.exports.createElement("div",{className:t.inputGroup},e.exports.createElement("div",{className:t.inputWrapper},e.exports.createElement(c,{className:t.inputIcon}),e.exports.createElement("input",{name:"firstName",type:"text",placeholder:" ",autoComplete:"off",value:r.firstName,onChange:l,onBlur:o,"data-filled":r.firstName?"true":"false"}),e.exports.createElement("label",{className:t.floatingLabel},"First Name")),s.firstName&&a.firstName&&e.exports.createElement("span",{className:t.errorText},a.firstName)),e.exports.createElement("div",{className:t.inputGroup},e.exports.createElement("div",{className:t.inputWrapper},e.exports.createElement(c,{className:t.inputIcon}),e.exports.createElement("input",{name:"lastName",type:"text",placeholder:" ",autoComplete:"off",value:r.lastName,onChange:l,onBlur:o,"data-filled":r.lastName?"true":"false"}),e.exports.createElement("label",{className:t.floatingLabel},"Last Name")),s.lastName&&a.lastName&&e.exports.createElement("span",{className:t.errorText},a.lastName))),e.exports.createElement("div",{className:t.inputGroup},e.exports.createElement("div",{className:t.inputWrapper},e.exports.createElement(I,{className:t.inputIcon}),e.exports.createElement("input",{name:"email",type:"email",placeholder:" ",autoComplete:"off",value:r.email,onChange:l,onBlur:o,"data-filled":r.email?"true":"false"}),e.exports.createElement("label",{className:t.floatingLabel},"Email Address")),s.email&&a.email&&e.exports.createElement("span",{className:t.errorText},a.email)),e.exports.createElement("div",{className:t.inputGroup},e.exports.createElement("div",{className:t.inputWrapper},e.exports.createElement(M,{className:t.inputIcon}),e.exports.createElement("input",{name:"password",type:i?"text":"password",placeholder:" ",autoComplete:"off",value:r.password,onChange:l,onBlur:o,"data-filled":r.password?"true":"false"}),e.exports.createElement("label",{className:t.floatingLabel},"Password"),e.exports.createElement("button",{type:"button",className:t.togglePassword,onClick:()=>x(!i)},i?"\u{1F441}":"\u{1F441}\u200D\u{1F5E8}")),s.password&&a.password&&e.exports.createElement("span",{className:t.errorText},a.password)),e.exports.createElement("button",{className:t.submitBtn,type:"submit"},e.exports.createElement("span",null,"Create Account"),e.exports.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},e.exports.createElement("path",{d:"M5 12h14M12 5l7 7-7 7"}))))),e.exports.createElement("div",{className:t.authFooter},e.exports.createElement("p",null,"Already have an account? ",e.exports.createElement(y,{to:"../login"},"Sign in")))),e.exports.createElement("div",{className:t.authIllustration},e.exports.createElement("div",{className:t.illustrationContent},e.exports.createElement("h2",null,"Start Your Journey"),e.exports.createElement("p",null,"Express yourself and connect with readers worldwide")))))}export{D as default};
