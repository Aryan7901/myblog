import{f as h,a as g,r as e,F as f,C as w,L as N,g as S}from"./index.e8cc2e1b.js";import{c as v,a as c,F as b,b as y}from"./formik.esm.3eaebbff.js";import{E as C,c as t}from"./ErrorModal.ee440c53.js";import{M as I,a as k,b as F}from"./index.esm.b682232f.js";const L=()=>{const p=h(),u=g(),[i,m]=e.exports.useState(null),[n,d]=e.exports.useState(!1),x=v().shape({email:c().email("Invalid email").required("This field is Required!"),password:c().min(8,"Too Short!").required("This field is Required!")}),E=async a=>{try{const s=await fetch("https://aryan-api.771727.xyz/blog-mania/user/login",{method:"POST",body:JSON.stringify({email:a.email,password:a.password}),headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error("Invalid Credentials");const r=await s.json();localStorage.setItem("userData",JSON.stringify(r));const o=new Date(new Date().getTime()+1e3*60*60);localStorage.setItem("timer",JSON.stringify({timer:o.toISOString()})),u("../",{replace:!0}),p(S.login(r))}catch(s){m(s.message),console.log(s)}};return e.exports.createElement(f,null,!!i&&e.exports.createElement(C,{error:i,onClear:()=>m(!1)}),e.exports.createElement("div",{className:t.authContainer},e.exports.createElement(w,{className:t.card},e.exports.createElement("div",{className:t.authHeader},e.exports.createElement("div",{className:t.iconWrapper},e.exports.createElement(I,{size:48})),e.exports.createElement("h1",null,"Welcome Back"),e.exports.createElement("p",null,"Sign in to continue to BlogMania")),e.exports.createElement(b,{initialValues:{email:"",password:""},validationSchema:x,onSubmit:a=>{E(a)}},({errors:a,touched:s,handleChange:r,handleBlur:o,values:l})=>e.exports.createElement(y,{className:t.form},e.exports.createElement("div",{className:t.inputGroup},e.exports.createElement("div",{className:t.inputWrapper},e.exports.createElement(k,{className:t.inputIcon}),e.exports.createElement("input",{name:"email",type:"email",placeholder:" ",autoComplete:"off",value:l.email,onChange:r,onBlur:o,"data-filled":l.email?"true":"false"}),e.exports.createElement("label",{className:t.floatingLabel},"Email Address")),s.email&&a.email&&e.exports.createElement("span",{className:t.errorText},a.email)),e.exports.createElement("div",{className:t.inputGroup},e.exports.createElement("div",{className:t.inputWrapper},e.exports.createElement(F,{className:t.inputIcon}),e.exports.createElement("input",{name:"password",type:n?"text":"password",placeholder:" ",autoComplete:"off",value:l.password,onChange:r,onBlur:o,"data-filled":l.password?"true":"false"}),e.exports.createElement("label",{className:t.floatingLabel},"Password"),e.exports.createElement("button",{type:"button",className:t.togglePassword,onClick:()=>d(!n)},n?"\u{1F441}":"\u{1F441}\u200D\u{1F5E8}")),s.password&&a.password&&e.exports.createElement("span",{className:t.errorText},a.password)),e.exports.createElement("button",{className:t.submitBtn,type:"submit"},e.exports.createElement("span",null,"Sign In"),e.exports.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},e.exports.createElement("path",{d:"M5 12h14M12 5l7 7-7 7"}))))),e.exports.createElement("div",{className:t.authFooter},e.exports.createElement("p",null,"Don't have an account? ",e.exports.createElement(N,{to:"../signup"},"Create one")))),e.exports.createElement("div",{className:t.authIllustration},e.exports.createElement("div",{className:t.illustrationContent},e.exports.createElement("h2",null,"Share Your Story"),e.exports.createElement("p",null,"Join thousands of bloggers sharing their thoughts with the world")))))};export{L as default};
